(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,a){e.exports=a("56d7")},"0408":function(e,t,a){},"0f9a":function(e,t,a){"use strict";a.r(t);a("d3b7"),a("ac1f"),a("5319"),a("433b");var n=a("d399"),r=a("a18c"),o=a("83d6"),c=(a("99af"),a("47e2"),a("2241")),u=a("bc3a"),i=a.n(u),s=i.a.create({baseURL:o["baseURL"],timeout:5e3});s.interceptors.request.use((function(e){return e.showLoading&&n["a"].loading({message:e.showLoadingText||"加载中...",forbidClick:!0}),e}),(function(e){Promise.reject(e)})),s.interceptors.response.use((function(e){return e.data&&e.data.code?200==e.data.code?e.config.custom?e.config.custom(e):e.data.data:401==e.data.code?(c["a"].confirm({title:"警告",message:"登录异常,请重新登录",confirmButtonText:"重新登录"}).then((function(){Object(r["resetRouter"])()})),Promise.reject(e.data.msg)):(!e.config.hideFail&&n["a"].fail({icon:"cross",message:e.data.msg,duration:1250}),Promise.reject(e.data.msg)):e}),(function(e){return console.log("[Error]: ".concat(new Date," ").concat(e,".")),n["a"].fail({icon:"cross",message:e.message,duration:1250}),Promise.reject(e)}));var f=s;function d(e){return f({url:"/user/login",method:"post",data:e})}function l(e){return f({url:"/user/info",method:"get",params:e})}function p(){return f({url:"/user/logout",method:"get"})}var m=a("5f87"),b=1250,v="USER_DATA",g=window[o["storage"]];t["default"]={namespaced:!0,state:{token:Object(m["a"])(),user:JSON.parse(g.getItem(v)||null)},mutations:{LOGIN:function(e,t){var a=t;e.token=a,Object(m["c"])(a)},LOGOUT:function(e){e.user=null,e.token=null,Object(m["b"])(),g.removeItem(v),Object(r["resetRouter"])(),Object(n["a"])({message:"退出成功",position:"middle",duration:b})},SET_USER_DATA:function(e,t){e.user=t,g.setItem(v,JSON.stringify(t)||null)}},actions:{login:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.username,r=t.password,o=t.$route,c=t.$router;d({username:a,password:r}).then((function(t){e.commit("LOGIN",t),Object(n["a"])({message:"登录成功",position:"middle",duration:b}),setTimeout((function(){var e=o.query.redirect||"/";c.replace({path:e})}),b)}))},logout:function(e){var t=e.commit;p().then((function(){t("LOGOUT")}))},getInfo:function(e){var t=e.commit,a=e.state;return new Promise((function(e,n){l({token:a.token}).then((function(a){a||n("获取用户信息错误！"),t("SET_USER_DATA",a),e(a)})).catch((function(e){n(e)}))}))}},getters:{token:function(e){var t=e.token;return t},user:function(e){var t=e.user;return t}}}},2395:function(e,t,a){},"331a":function(e,t){var a={1865e7:"admin-token",123456:"editor-token"},n={"admin-token":{roles:["admin"],introduction:"I am a super administrator",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",name:"Super Admin"},"editor-token":{roles:["editor"],introduction:"I am an editor",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",name:"Normal Editor"}};e.exports=[{url:"/user/login",type:"post",response:function(e){var t=e.body.username,n=a[t];return n?{code:200,data:n}:{code:401,msg:"Account and password are incorrect."}}},{url:"/user/info",type:"get",response:function(e){var t=e.query.token,a=n[t];return a?{code:200,data:a,msg:null}:{code:401,msg:"Login failed, unable to get user details."}}},{url:"/user/logout",type:"get",response:function(){return{code:200,data:null,msg:null}}}]},4360:function(e,t,a){"use strict";a("4160"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("ddb0");var n=a("a026"),r=a("2f62"),o=(a("caad"),a("c975"),a("2532"),a("ade3")),c=a("5530"),u=a("15fd"),i="@@loading";function s(e,t,a){var n=e.type;return 0===t.length&&0===a.length||(t.length>0?t.indexOf(n)>-1:a.length>0&&-1===a.indexOf(n))}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.namespace,a=void 0===t?i:t,n=e.includes,r=void 0===n?[]:n,f=e.excludes,d=void 0===f?[]:f,l=Object(u["a"])(e,["namespace","includes","excludes"]);return function(e){if(e.state[a])throw new Error("createLoadingPlugin: ".concat(a," exited in current store"));e.registerModule(a,{namespaced:!0,state:{global:!1,effects:{}},mutations:{SHOW:function(e,t){var a=t.payload;e.global=!0,e.effects=Object(c["a"])(Object(c["a"])({},e.effects),{},Object(o["a"])({},a,!0))},HIDE:function(e,t){var a=t.payload;e.global=!1,e.effects=Object(c["a"])(Object(c["a"])({},e.effects),{},Object(o["a"])({},a,!1))}}},l),e.subscribeAction({before:function(t){console.log("before action ".concat(t.type)),s(t,r,d)&&e.commit({type:a+"/SHOW",payload:t.type})},after:function(t){console.log("after action ".concat(t.type)),s(t,r,d)&&e.commit({type:a+"/HIDE",payload:t.type})}})}},d=f;n["a"].use(r["a"]);var l=a("d307"),p={};l.keys().forEach((function(e){p[e.replace(/(\.\/|\.js)/g,"")]=l(e).default}));t["a"]=new r["a"].Store({plugins:[d()],state:{direction:"forward"},getters:{userData:function(e){var t=e.user;return t.user}},mutations:{updateDirection:function(e,t){e.direction=t}},actions:{},modules:p})},4657:function(e,t,a){"use strict";a.r(t);a("4160"),a("d3b7"),a("2ca0"),a("159b"),a("ddb0");var n=a("a026"),r=a("d783");r.keys().forEach((function(e){if(!e.startsWith("./index")){var t=r(e);t=t.default||t,t.install&&n["a"].use(t.install)}}))},"499f":function(e,t,a){"use strict";a.r(t);a("d3b7");t["default"]=[{path:"/login",name:"login",component:function(){return a.e("chunk-111583f0").then(a.bind(null,"ac2a"))},meta:{title:"登录"}},{path:"/register",name:"register",component:function(){return a.e("chunk-c9b86504").then(a.bind(null,"1348"))},meta:{title:"注册"}}]},"4b0f":function(e,t,a){a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("1276");var n=a("6374"),r=a("448a");function o(e){var t=e.split("?")[1];return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"').replace(/\+/g," ")+'"}'):{}}var c=a("96eb"),u=a("331a"),i=r(u);function s(){function e(e){return function(t){var a=null;if(e instanceof Function){var n=t.body,r=t.type,u=t.url;a=e({method:r,body:JSON.parse(n),query:o(u)})}else a=e;return c.mock(a)}}c.XHR.prototype.proxy_send=c.XHR.prototype.send,c.XHR.prototype.send=function(){this.custom.xhr&&(this.custom.xhr.withCredentials=this.withCredentials||!1,this.responseType&&(this.custom.xhr.responseType=this.responseType)),this.proxy_send.apply(this,arguments)};var t,a=n(i);try{for(a.s();!(t=a.n()).done;){var r=t.value;c.mock(new RegExp(r.url),r.type||"get",e(r.response))}}catch(u){a.e(u)}finally{a.f()}}e.exports={mocks:i,mockXHR:s}},"4b51":function(e,t,a){},"4f94":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("5cfb");var n=a("a026"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("keep-alive",[e.keepAlive?a("router-view"):e._e()],1),e.keepAlive?e._e():a("router-view")],1)},o=[],c={name:"App",data:function(){return{}},computed:{keepAlive:function(){return this.$route.meta.keepAlive}}},u=c,i=(a("7c55"),a("2877")),s=Object(i["a"])(u,r,o,!1,null,null,null),f=s.exports,d=a("a18c"),l=a("4360"),p=a("83d6"),m=a.n(p),b=(a("0408"),a("4f94"),a("4b51"),a("8975"),a("4657"),a("d554"),a("ab2c")),v=(a("4071"),a("a3e2")),g=(a("3cc4"),a("5596")),h=(a("8d12"),a("2bb1")),k=(a("b204"),a("7d5e")),O=(a("3e6d"),a("a37c")),y=(a("2591"),a("3104")),w=(a("93b0"),a("2bdd")),x=(a("6e75"),a("343b")),E=(a("cea6"),a("28a2")),j=(a("926b"),a("f0ca")),D=(a("a247"),a("9ed2")),_=(a("4826"),a("f9bd")),I=(a("78a2"),a("1437")),N=(a("837b"),a("c36e")),U=(a("4391"),a("58e6")),L=(a("8a4e"),a("6e47")),R=(a("9889"),a("f564")),T=(a("bca0"),a("543e")),S=(a("c65f"),a("2d6d")),A=(a("e9a3"),a("d314")),H=(a("47e2"),a("2241")),C=(a("d707"),a("8f80")),P=(a("9be3"),a("ca19")),F=(a("1318"),a("ac28")),M=(a("4627"),a("2ed4")),J=(a("558f"),a("0b33")),B=(a("8990"),a("5e46")),G=(a("504f"),a("1d36")),W=(a("e659"),a("241e")),X=(a("bb16"),a("f240")),$=(a("da02"),a("6b41")),q=(a("cd52"),a("e11d")),Y=(a("576f"),a("92e2")),K=(a("4072"),a("2830")),V=(a("a035"),a("21ab")),z=(a("1fe9"),a("d961")),Q=(a("8e11"),a("f253")),Z=(a("9eda"),a("565f")),ee=(a("608d"),a("9f14")),te=(a("01bb"),a("e27c")),ae=(a("9753"),a("417e")),ne=(a("6370"),a("3acc")),re=(a("5a5c"),a("772a")),oe=(a("578d"),a("ee83")),ce=(a("ef44"),a("473d")),ue=(a("433b"),a("d399")),ie=(a("87d0"),a("e41f")),se=(a("47d1"),a("9ffb")),fe=(a("4bc8"),a("d1e1")),de=(a("bf24"),a("44bf")),le=(a("b342"),a("ad06")),pe=(a("3ec1"),a("7744")),me=(a("2a53"),a("34e9")),be=(a("c625"),a("b650"));a("c59a");n["a"].use(be["a"]),n["a"].use(pe["a"]).use(me["a"]),n["a"].use(le["a"]),n["a"].use(de["a"]),n["a"].use(se["a"]).use(fe["a"]),n["a"].use(ie["a"]),n["a"].use(ue["a"]),n["a"].use(ce["a"]),n["a"].use(oe["a"]),n["a"].use(re["a"]),n["a"].use(ae["a"]).use(ne["a"]),n["a"].use(ee["a"]).use(te["a"]),n["a"].use(Z["a"]),n["a"].use(Q["a"]),n["a"].use(z["a"]),n["a"].use(K["a"]).use(V["a"]),n["a"].use(q["a"]).use(Y["a"]),n["a"].use($["a"]),n["a"].use(X["a"]),n["a"].use(G["a"]).use(W["a"]),n["a"].use(J["a"]).use(B["a"]),n["a"].use(F["a"]).use(M["a"]),n["a"].use(P["a"]),n["a"].use(C["a"]),n["a"].use(H["a"]),n["a"].use(S["a"]).use(A["a"]),n["a"].use(T["a"]),n["a"].use(R["a"]),n["a"].use(L["a"]),n["a"].use(U["a"]),n["a"].use(N["a"]),n["a"].use(_["a"]).use(I["a"]),n["a"].use(D["a"]),n["a"].use(j["a"]),n["a"].use(E["a"]),n["a"].use(x["a"]),n["a"].use(w["a"]),n["a"].use(y["a"]),n["a"].use(O["a"]),n["a"].use(k["a"]),n["a"].use(g["a"]).use(h["a"]),n["a"].use(v["a"]),n["a"].use(b["a"]);a("4160"),a("b0c0"),a("b64b"),a("159b"),a("ac1f"),a("5319");var ve=/-(\w)/g;function ge(e){return e.replace(ve,(function(e,t){return t.toUpperCase()}))}var he={};Object.keys(he).forEach((function(e){var t=he[e];n["a"].component(ge("-".concat(t.componentName||t.name)),t)}));a("45fc"),a("96cf");var ke=a("1da1"),Oe=a("2ef0"),ye=a.n(Oe),we=a("323e"),xe=a.n(we),Ee=(a("a5d8"),a("5f87"));xe.a.configure({showSpinner:!1});var je=function(e){return p["whiteList"].some((function(t){return ye.a.isRegExp(t)?t.test(e):t===e}))};if(d["default"].beforeEach(function(){var e=Object(ke["a"])(regeneratorRuntime.mark((function e(t,a,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(xe.a.start(),r=Object(Ee["a"])(),!r){e.next=27;break}if("/login"!==t.path){e.next=8;break}n({path:"/"}),xe.a.done(),e.next=25;break;case 8:if(o=ye.a.isEmpty(l["a"].getters.userData),o){e.next=13;break}n(),e.next=25;break;case 13:return e.prev=13,e.next=16,l["a"].dispatch("user/getInfo");case 16:n(),e.next=25;break;case 19:e.prev=19,e.t0=e["catch"](13),l["a"].commit("user/LOGOUT"),R["a"].error(e.t0||"Has Error"),n("/login?redirect=".concat(t.path)),xe.a.done();case 25:e.next=28;break;case 27:je(t.path)?n():(n("/login?redirect=".concat(t.path)),xe.a.done());case 28:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,a,n){return e.apply(this,arguments)}}()),d["default"].afterEach((function(){xe.a.done()})),n["a"].config.productionTip=!1,document.getElementsByTagName("body")[0].addEventListener("contextmenu",(function(e){e.preventDefault()})),m.a.mock){var De=a("4b0f"),_e=De.mockXHR;_e()}if(m.a.vconsole){var Ie=a("3a34");new Ie}new n["a"]({router:d["default"],store:l["a"],render:function(e){return e(f)}}).$mount("#app")},"5f87":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return f}));var n=a("a78e"),r=a.n(n),o=a("83d6"),c=a.n(o),u=c.a.tokenKey,i=function(){return r.a.get(u)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.a.set(u,e)},f=function(){return r.a.remove(u)}},7690:function(e,t,a){var n={"./formatDate.js":"c5ad","./index.js":"8975"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="7690"},"7c55":function(e,t,a){"use strict";var n=a("2395"),r=a.n(n);r.a},"83d6":function(e,t){var a=Object({NODE_ENV:"production",BASE_URL:""}).port||Object({NODE_ENV:"production",BASE_URL:""}).npm_config_port||8888;e.exports={port:a,baseURL:"/mock-api",tokenKey:"Token",storage:"sessionStorage",mock:!0,vconsole:!1,whiteList:["/login","/register","/404"],proxy:{"/mock-api":{target:"http://localhost:".concat(a),ws:!1,secure:!1,changeOrigin:!0}}}},8975:function(e,t,a){"use strict";a.r(t);a("4160"),a("d3b7"),a("2ca0"),a("159b"),a("ddb0");var n=a("a026"),r=a("7690");r.keys().forEach((function(e){if(!e.startsWith("./index")){var t=r(e);t=t.default||t,t.install&&n["a"].use(t)}}))},a18c:function(e,t,a){"use strict";a.r(t),a.d(t,"resetRouter",(function(){return l}));a("99af"),a("4160"),a("a9e3"),a("d3b7"),a("ac1f"),a("5319"),a("2ca0"),a("159b"),a("ddb0");var n=a("a026"),r=a("8c4f"),o=a("4360");n["a"].use(r["a"]);var c=[{path:"/",name:"home",component:function(){return a.e("chunk-77f4de00").then(a.bind(null,"bb51"))},meta:{title:"首页",keepAlive:!0}},{path:"/404",name:"404",component:function(){return a.e("chunk-2d22d746").then(a.bind(null,"f820"))},meta:{title:"About",keepAlive:!0}}],u=a("ea2a");u.keys().forEach((function(e){if(!e.startsWith("./index")){var t=u(e);c=c.concat(t.default||t)}})),c=c.concat({path:"*",redirect:"/404"});var i=function(){return new r["a"]({scrollBehavior:function(e,t,a){return a||{x:0,y:0}},routes:c})},s=i(),f=window.sessionStorage;f.clear();var d=Number(f.getItem("count"))||0;function l(){s.replace("/login")}f.setItem("/",0),s.beforeEach((function(e,t,a){if(e.params.direction)o["a"].commit("updateDirection",e.params.direction);else{var n=f.getItem(e.path),r=f.getItem(t.path);n?!r||parseInt(n,10)>parseInt(r,10)||"0"===n&&"0"===r?o["a"].commit("updateDirection","forward"):o["a"].commit("updateDirection","back"):(++d,f.setItem("count",d),"/"!==e.path&&f.setItem(e.path,d),o["a"].commit("updateDirection","forward"))}a()}));var p=r["a"].prototype.replace;r["a"].prototype.replace=function(e){return p.call(this,e).catch((function(e){return e}))},t["default"]=s},c5ad:function(e,t,a){"use strict";a.r(t);a("4de4"),a("d3b7"),a("25f0");var n=a("5530"),r=a("5a0c"),o=a.n(r),c=a("2ef0"),u=a.n(c);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={format:"YYYY-MM-DD HH:mm:ss",placeholder:"-",failPlaceHolder:"-",transform:null};if(u.a.isString(t)?a.format=t:u.a.isPlainObject(t)&&(a=Object(n["a"])(Object(n["a"])({},a),t)),!e)return a.placeholder;u.a.isFunction(a.transform)&&(e=a.transform(e));var r=o()(e);return"Invalid Date"===r.toString()?a.failPlaceHolder:r.format(a.format)}t["default"]={install:function(e){e.filter("formatDate",i)}}},d307:function(e,t,a){var n={"./user.js":"0f9a"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="d307"},d783:function(e,t,a){var n={"./index.js":"4657"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="d783"},ea2a:function(e,t,a){var n={"./index.js":"a18c","./user.js":"499f"};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id="ea2a"}},[[0,"runtime","chunk-vantUI","chunk-libs"]]]);
//# sourceMappingURL=app.83330cc8.js.map